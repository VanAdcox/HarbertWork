@page "/"
@page "/{rowsDisplayed:int?}"
@rendermode InteractiveServer

<PageTitle>Home</PageTitle>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

<h1>Hello, world!</h1>

Welcome to your new app.



<Counter IncrementAmount="@RandoNum()" />

<button type="button" @onclick="SetTrue">What's today</button>

@if (isClicked)
{
    <p>Today is @DateTime.Now.ToString("MM/dd/yyyy")</p>
} 
else {
	<p>who cares</p>
}

<button type="button" @onclick="GetAlphabet">Alphabet</button>
@if (alphabetToggled) {
	<ol>
	@foreach (var letter in alphabetSubset){
		<li>@letter</li>
	}
	</ol>

}

<table class="table">
	<tr>
		<th>Number</th>
	</tr>
	@foreach(var num in numbers) {
		<tr>
			<td>@num</td>
		</tr>
	}
</table>

@code {
	[Parameter]
	public int rowsDisplayed {get; set;}
	private List<int> numbers = new List<int>();

	protected override void OnInitialized()
	{
		if(rowsDisplayed==0) { return; }
		for(int i = 0; i < rowsDisplayed; i++) {
			numbers.Add(Random.Shared.Next(1,50));
		}
	}
	private Random rand = new Random();
	private bool isClicked = false;
	private bool alphabetToggled = false;
	private List<string> alphabetSubset = new List<string>();

	private int RandoNum() {
		return rand.Next(10) + 1;
	}

	private void SetTrue() {
		isClicked = true;
	}

	private void GetAlphabet() {
		string Alphabet = "abcdefghijklmnopqrstuvwxyz";
		if(alphabetToggled) {
			alphabetToggled = false;
		}
		else {
			alphabetSubset.Clear();
			for(int i = 0; i < rand.Next(0,25); i++){
				alphabetSubset.Add(Alphabet.Substring(i,1));
			}
			alphabetToggled = true;
		}
	}
}
